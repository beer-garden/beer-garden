<fetch-data response="response"></fetch-data>

<div ng-if="responseState(response) === 'success'">
  <h1 class="page-header">Systems</h1>

  <div class="container-fluid animate-if">
    <table
      id="systemIndexTable"
      datatable="ng"
      dt-options="dtOptions"
      dt-instance="instanceCreated"
      class="table table-striped table-bordered"
      style="width: 100%"
    >
      <thead>
        <tr>
          <th scope="col">Namespace</th>
          <th scope="col">System</th>
          <th scope="col">Version</th>
          <th scope="col">Description</th>
          <th scope="col">Commands</th>
          <th scope="col">Instances</th>
          <th scope="col" ng-if="hasGroups">Groups</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="system in data | filter:query">
          <td>{{system.namespace}}</td>
          <td>{{system.name}}</td>
          <td>{{system.version}}</td>
          <td>{{system.description || "No Description Provided" }}</td>
          <td>{{system.commands.length}}</td>
          <td>{{system.instances.length}}</td>
          <td ng-if="hasGroups">{{system.groups.join(", ")}}</td>
          <td>
            <a
              ui-sref="base.system({namespace: system.namespace, systemName: system.name, systemVersion: system.version})"
              class="btn btn-primary center-block"
              >Explore</a
            >
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
