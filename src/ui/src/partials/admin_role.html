<h1 class="page-header">
  <span>Role Management</span>
  <div class="pull-right">
    <button
      type="button"
      class="btn btn-primary"
      ng-click="doCreate()"
      ng-show="hasPermission('GARDEN_ADMIN', global=true)"
    >
      Create Role
    </button>
  </div>
</h1>

<fetch-data response="response"></fetch-data>

<div
  class="container-fluid animate-if"
  ng-show="responseState(response) === 'success'"
>
  <div ng-show="!config.authEnabled" uib-alert class="alert alert-danger">
    Warning - Beergarden authorization is currently disabled. Changes made here
    will be persisted, but permissions will not be enforced. Contact your
    administator to enable this feature.
  </div>

  
  <table
      datatable="ng"
      dt-options="dtOptions"
      class="table table-striped table-bordered"
      style="width: 100%"
    >
    <thead>
      <tr>
        <th scope="col">Role</th>
        <th scope="col">Permission</th>
        <th scope="col">Description</th>
        <th scope="col">Garden Scope</th>
        <th scope="col">Namespace Scope</th>
        <th scope="col">System Scope</th>
        <th scope="col">Version Scope</th>
        <th scope="col">Instance Scope</th>
        <th scope="col">Command Scope</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="role in roles">
        <td>{{role.name}}</td>
        <td>{{role.permission}}</td>
        <td>{{role.description}}</td>
        <td>{{role.scope_gardens}}</td>
        <td>{{role.scope_namespaces}}</td>
        <td>{{role.scope_systems}}</td>
        <td>{{role.scope_versions}}</td>
        <td>{{role.scope_instances}}</td>
        <td>{{role.scope_commands}}</td>
        <td>
          <button
              class="fa fa-trash pull-right"
              style="font-size: 20px"
              ng-click="doDelete(role)"
              title="Delete Role"
            ></button>
            <button
              class="fa fa-clone pull-right"
              style="font-size: 20px"
              ng-click="doClone(role)"
              title="Copy Role"
            ></button>
            <button
              class="fa fa-pencil pull-right"
              style="font-size: 20px"
              ng-click="doEdit(role)"
              title="Edit Role"
            ></button>
        </td>

      </tr>
    </tbody>
  </table>
  <div
    uib-alert
    ng-repeat="alert in alerts"
    ng-class="'alert-' + alert.type"
    close="closeAlert($index)"
  >
    {{alert.msg}}
  </div>
</div>
